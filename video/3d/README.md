# 3Dエンジン

NDSの3Dエンジンは、ジオメトリエンジン(GE) と レンダリングエンジン(RE) で構成されています。

## ジオメトリエンジン

現代のGPUの頂点シェーダに相当する部分です。

CPUから送られたジオメトリコマンドと頂点情報を受け取ってジオメトリ処理を行い、その結果を 頂点RAM/ポリゴンRAM に書き込みます。

## レンダリングエンジン (RE)

現代のGPUのピクセルシェーダに相当する部分です。

ラスタライズ、テクスチャマッピング、αブレンディング を行った後でポストプロセス(エッジ抽出,深度フォグ,AA)を行い後述のラインバッファに結果を書き込みます。

### ラインバッファ

一般的には描画結果の書き込みにフレームバッファ方式を用いますが、NDSではフレームバッファ方式ではなくラインバッファ方式を採用しています。

このラインバッファは1行分のカラーバッファを48個まで保持できるFIFOになっており、NDSは画面上から1行ずつレンダリングを行いその結果をラインバッファにプッシュしていきます。(そしてFIFOから押し出された行がBG0に転送されます)


