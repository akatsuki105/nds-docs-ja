# バックアップ(セーブデータ)

> [!NOTE]
> NDSは、ファームウェアやタッチ画面などと通信を行うためのSPIバスを持っていますが、バックアップチップとの通信には別のSPIバス(とIOポート)を使用します。

> [!TIP]
> AUXSPI は Auxiliary SPI の略です。

NDSはSPI通信を用いて、バックアップチップと通信します。

## 40001A2h - NDS7/NDS9 - AUXSPIDATA - Gamecard SPI Bus Data/Strobe (R/W)

SPI転送は全二重通信なので、SPIバスから読み取るつもりであっても、ダミー値（ゼロであるべき）を書き込む必要があります。

```
  0-7  Data
  8-15 不使用(常に0)
```

転送中は、ビジーフラグ`AUXSPICNT.7`がセットされ、`AUXSPIDATA`に書きこまれたデータ値がデバイスに転送（出力ライン経由）され、同時にデータが受信（入力ライン経由）されます。転送が完了すると、ビジーフラグがオフになり、必要に応じて、受信した値を`AUXSPIDATA`から読み取ることができます。

